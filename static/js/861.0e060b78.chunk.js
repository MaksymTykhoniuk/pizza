"use strict";(self.webpackChunkpizza=self.webpackChunkpizza||[]).push([[861],{2199:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var c=t(2791),i=t(3433),r=t(9434),s=t(6351),a=t(9439),l=t(8820),o=t(7087),u=(t(9713),t(5528)),d=t(184),h=["\u0442\u0440\u0430\u0434\u0438\u0446\u0438\u0456\u043d\u0435","\u0442\u043e\u043d\u043a\u0435"],x=function(e){var n=e.item,t=(0,r.I0)(),i=n.id,s=n.imageUrl,x=n.title,m=n.types,f=n.sizes,j=n.price,v=n.ingredients,p=(0,c.useState)(0),z=(0,a.Z)(p,2),b=z[0],_=z[1],g=(0,c.useState)(26),k=(0,a.Z)(g,2),N=k[0],C=k[1],w=(0,c.useState)(!1),y=(0,a.Z)(w,2),L=y[0],Z=y[1],I=(0,c.useState)(!1),S=(0,a.Z)(I,2),E=S[0],M=S[1],q=function(){return 30===N?Math.round(1.2*j):40===N?Math.round(1.35*j):j};return(0,d.jsx)("div",{className:"pizza-block-wrapper",children:(0,d.jsxs)("li",{className:"pizza-block",children:[(0,d.jsxs)("div",{className:"pizza-block__image-wrapper",children:[(0,d.jsx)(o.LazyLoadImage,{className:"pizza-block__image",src:s,width:260,height:260,effect:"blur",alt:"Pizza"}),(0,d.jsx)("button",{onClick:function(){return Z((function(e){return!e}))},className:"pizza-block__info",type:"button",children:"i"}),L&&(0,d.jsx)("div",{className:"pizza-block__overlay",children:(0,d.jsxs)("p",{className:"pizza-block__overlay-desc",children:["\u0421\u043a\u043b\u0430\u0434: ",v]})})]}),(0,d.jsx)("h4",{className:"pizza-block__title",children:x}),(0,d.jsxs)("div",{className:"pizza-block__selector",children:[(0,d.jsx)("ul",{children:m.map((function(e){return(0,d.jsx)("li",{onClick:function(){return function(e){return _(e)}(e)},className:b===e?"active":"",children:h[e]},e)}))}),(0,d.jsx)("ul",{children:f.map((function(e){return(0,d.jsxs)("li",{onClick:function(){return C(e)},className:N===e?"active":"",children:[e," \u0441\u043c"]},e)}))})]}),(0,d.jsxs)("div",{className:"pizza-block__bottom",children:[(0,d.jsx)("div",{className:"pizza-block__price",children:"".concat(q(),"\u20b4")}),E?(0,d.jsxs)("button",{className:"button--added ",children:[(0,d.jsx)(l.bzc,{size:20,fill:"white"}),(0,d.jsx)("span",{children:"\u0414\u043e\u0434\u0430\u043d\u043e"})]}):(0,d.jsxs)("button",{onClick:function(){var e={id:i,title:x,price:q(),imageUrl:s,type:b,size:N,count:1};M(!0),setTimeout((function(){M(!1)}),1e3),t((0,u.jX)(e))},className:"button button--outline button--add",children:[(0,d.jsx)(l.Lfi,{size:20}),(0,d.jsx)("span",{children:"\u0414\u043e\u0434\u0430\u0442\u0438"})]})]})]})})},m=t(8175),f=function(){return(0,d.jsxs)(m.ZP,{className:"pizza-block",speed:2,width:280,height:500,viewBox:"0 0 280 500",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[(0,d.jsx)("circle",{cx:"134",cy:"136",r:"125"}),(0,d.jsx)("rect",{x:"0",y:"279",rx:"10",ry:"10",width:"280",height:"23"}),(0,d.jsx)("rect",{x:"0",y:"326",rx:"10",ry:"10",width:"280",height:"88"}),(0,d.jsx)("rect",{x:"0",y:"436",rx:"10",ry:"10",width:"95",height:"30"}),(0,d.jsx)("rect",{x:"125",y:"427",rx:"24",ry:"24",width:"152",height:"45"})]})},j=t(1509),v=["\u0423\u0441\u0456","\u041c'\u044f\u0441\u043d\u0456","\u0411\u0435\u0437 \u043c'\u044f\u0441\u0430","\u0413\u0440\u0438\u043b\u044c","\u0413\u043e\u0441\u0442\u0440\u0456"],p=function(){var e=(0,r.I0)(),n=(0,r.v9)(s.ZI);return(0,d.jsx)("div",{className:"categories",children:(0,d.jsx)("ul",{children:v.map((function(t,c){return(0,d.jsx)("li",{onClick:function(){return n=c,e((0,j.qj)(n));var n},className:n===c?"active":"",children:t},c)}))})})},z=[{name:"\u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u0456",value:"rating"},{name:"\u0446\u0456\u043d\u0456 \u2b07",value:"-price"},{name:"\u0446\u0456\u043d\u0456 \u2b06",value:"price"},{name:"\u0430\u043b\u0444\u0430\u0432\u0456\u0442\u0443",value:"title"}],b=function(){var e=(0,r.I0)(),n=(0,c.useRef)(),t=(0,r.v9)(s.wJ),i=(0,c.useState)(!1),l=(0,a.Z)(i,2),o=l[0],u=l[1],h=function(n){var t;t=n,e((0,j.ni)(t)),u((function(e){return!e}))},x=function(e){e.composedPath().includes(n.current)||u(!1)};return(0,c.useEffect)((function(){return document.body.addEventListener("click",x),function(){document.body.removeEventListener("click",x)}}),[]),(0,d.jsxs)("div",{ref:n,className:"sort",children:[(0,d.jsxs)("div",{className:"sort__label",children:[(0,d.jsx)("svg",{className:o?"sort__svg--active":"sort__svg",width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{d:"M10 5C10 5.16927 9.93815 5.31576 9.81445 5.43945C9.69075 5.56315 9.54427 5.625 9.375 5.625H0.625C0.455729 5.625 0.309245 5.56315 0.185547 5.43945C0.061849 5.31576 0 5.16927 0 5C0 4.83073 0.061849 4.68424 0.185547 4.56055L4.56055 0.185547C4.68424 0.061849 4.83073 0 5 0C5.16927 0 5.31576 0.061849 5.43945 0.185547L9.81445 4.56055C9.93815 4.68424 10 4.83073 10 5Z",fill:"#2C2C2C"})}),(0,d.jsx)("b",{children:"\u0421\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u043f\u043e:"}),(0,d.jsx)("span",{onClick:function(){return u((function(e){return!e}))},children:t.name})]}),o&&(0,d.jsx)("div",{className:"sort__popup",children:(0,d.jsx)("ul",{children:z.map((function(e,n){return(0,d.jsx)("li",{onClick:function(){return h(e)},className:t.name===e.name?"active":"",children:e.name},n)}))})})]})},_=t(2460),g=["\u0423\u0441\u0456","\u041c'\u044f\u0441\u043d\u0456","\u0411\u0435\u0437 \u043c'\u044f\u0441\u0430","\u0413\u0440\u0438\u043b\u044c","\u0413\u043e\u0441\u0442\u0440\u0456"],k=function(){var e=(0,r.I0)(),n=(0,r.v9)(s.Mv),t=(0,r.v9)(s.xU),a=(0,r.v9)(s.ZI),l=(0,r.v9)(s.wJ),o=(0,r.v9)(s.sh);(0,c.useEffect)((function(){var n=a>0?"category=".concat(a):"",t=l.value.includes("-")?"desc":"asc",c="sortBy=".concat(l.value.replace("-",""),"&order=").concat(t);e((0,_.q)({category:n,sort:c}))}),[a,e,l.value]);var u=o.toLowerCase(),h=(0,i.Z)(new Array(6)).map((function(e,n){return(0,d.jsx)(f,{},n)})),m=n.filter((function(e){return e.title.toLowerCase().includes(u)})).map((function(e){return(0,d.jsx)(x,{item:e},e.id)})),j=m.length,v="\u041f\u0456\u0446\u0438 ".concat(g[a].toLocaleLowerCase());return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"content__top",children:[(0,d.jsx)(p,{}),(0,d.jsx)(b,{})]}),(0,d.jsx)("h2",{className:"content__title",children:2===a?v:"".concat(g[a]," \u043f\u0456\u0446\u0438")}),(0,d.jsx)("ul",{className:"content__items",children:t?h:m}),0===j&&(0,d.jsx)("h1",{children:"Sorry, but there are no results for your query"})]})},N=function(){return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(k,{})})}}}]);
//# sourceMappingURL=861.0e060b78.chunk.js.map